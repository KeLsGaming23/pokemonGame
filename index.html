<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
    <title>PokeDexGo</title>
    <!-- <style>
        body{
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
    </style> -->
</head>
<body>
    <section class="section-1">
        <div class="container pokedex-container text-dark text-center">
            <img src="./header.png" alt="" class="text-center"><br><hr>
            <!-- PokeDex Area -->
            <div id="pokemon-grid" class="pokemon-grid"></div>
            <!-- ------------ -->

            <!-- Load more -->
            <div class="text-center my-4">
                <input type="button" class="btn btn-dark" value="Next" onclick=" relocate_home()">
                <input type="button" class="btn btn-dark" value="Previous" onclick=" relocate_home()">
            </div>
        </div>
    </main>

    <section class="section-2 bg-light">
        <div class="section-2 container">
            <h1 class="text-center my-4 p-4 fw-bold">PokeDex Game Guide</h1><hr>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Aut praesentium officiis temporibus quia quidem fuga beatae explicabo? A harum porro eius alias ipsam nihil corrupti at nisi saepe, velit nulla doloremque eaque perferendis, unde consectetur ratione est libero tempora ut laborum sunt inventore magnam repellat dolore? Non laudantium cum eveniet.</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Vitae aliquid, iusto est necessitatibus blanditiis harum maxime voluptate eveniet itaque repudiandae atque facere. Id, quos? Tenetur dolorem inventore cumque ad laudantium molestiae odio adipisci consequuntur magnam nostrum eos accusantium, harum, provident voluptate eligendi natus est assumenda fugiat consequatur. Eos, eius laborum.</p>
        </div>


        <hr><br>
        <p class="text-center">Â© 2020 Copyright <a class="text-dark" href="index.html" style="text-decoration:none;"> PokeDexGo</a></p>
        <br>
  </section>




   <!-- Bootstrap Script -->
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
   integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
   crossorigin="anonymous"></script>

    <script>
    //Retrieve playerPokemonFirst
    let playerPokemon = localStorage.getItem("pokemonId");
    if(playerPokemon){
        location.href = "pokemonbattle.html";
    }
    // Load more or somethings else
        function relocate_home()
            {
                location.href = "index.html";
            } 
        
    // PokeDex Area Declare Variables
        const pokemonGrid = document.getElementById('pokemon-grid');

    // Fetch data from the PokeAPI 
        fetch('https://pokeapi.co/api/v2/pokemon')
        .then(response => response.json())
        .then(data => {
            console.log(data);
            data.results.forEach(async pokemon => {
            // fetch more data about the Pokemon 
            const pokemonData = await fetch(pokemon.url).then(response => response.json());
            // When the response is received
            const pokemonElement = document.createElement('div',);
            pokemonElement.classList.add('pokemon', 'cell');
            //Kels Edit add event event click listener in every cell and then save the pokemon ID
            pokemonElement.addEventListener('click', () => {
                localStorage.setItem('pokemonId', pokemonData.id);
                location.href = 'pokemonbattle.html';
            });
            // element for the sprite and Set the appropriate properties
            const pokemonName = document.createElement('h2');
            pokemonName.innerText = pokemonData.name;
            
            const pokemonImage = document.createElement('img');
            pokemonImage.src = pokemonData.sprites.front_default;
            pokemonImage.alt = `${pokemonData.name} sprite`;
            
            const pokemonId = document.createElement('p');
            pokemonId.innerText = `ID: ${pokemonData.id}`;
            
            const pokemonType = document.createElement('p');
            pokemonType.innerText = `Type: ${pokemonData.types.map(type => type.type.name).join(', ')}`;
            
            pokemonElement.appendChild(pokemonName);
            pokemonElement.appendChild(pokemonImage);
            pokemonElement.appendChild(pokemonId);
            pokemonElement.appendChild(pokemonType);
            
            pokemonGrid.appendChild(pokemonElement);
            });
        })
        .catch(error => console.error(error));
        
        // Add hover effect
        const cells = document.querySelectorAll('.cell');
        cells.forEach(cell => {
        cell.addEventListener('mouseover', () => {
            cell.style.boxShadow = '0 0 10px rgba(0, 0, 0, 0.5)';
            cell.style.background = 'white';
        });
        cell.addEventListener('mouseout', () => {
            cell.style.boxShadow = 'none';
        });
        });

        // Add responsive behavior
        const mq = window.matchMedia('(max-width: 767px)');
        if (mq.matches) {
        pokemonGrid.classList.add('mobile-grid');
        } else {
        pokemonGrid.classList.add('desktop-grid');
        }
        mq.addEventListener('change', e => {
        if (e.matches) {
            pokemonGrid.classList.remove('desktop-grid');
            pokemonGrid.classList.add('mobile-grid');
        } else {
            pokemonGrid.classList.remove('mobile-grid');
            pokemonGrid.classList.add('desktop-grid');
        }
        });
    
    </script>


    // <!-- <a href="pokemonbattle.html">Go to Pokemon Battle System</a> -->
    // <!-- second commit -->
    // <!-- Third Commit -->
</body>
</html>